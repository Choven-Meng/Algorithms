# 康托展开

## 简述

康托展开是一个全排列到一个自然数的双射，常用于构建hash表时的空间压缩。设有n个数（1，2，3，4,…,n），可以有组成不同(n!种)的排列组合，康托展开表示的就是是当前排列组合在n个不同元素的全排列中的名次。

## 原理

X=a[n]*(n-1)!+a[n-1]*(n-2)!+...+a[i]*(i-1)!+...+a[1]*0! 
其中, a[i]为整数，并且0 <= a[i] <= i, 0 <= i < n, 表示当前未出现的的元素中排第几个，这就是康托展开。

## 康托展开

在（1，2，3，4，5）5个数的排列组合中，计算 34152的康托展开值。

* 首位是3，则小于3的数有两个为1和2，a[5] = 2,则首位小于3的所有排列组合为 2*(5-1)!

* 第二位是4，则小于4的数有两个，为1和2，a[4] = 2注意这里3并不能算，因为3已经在第一位，所以其实计算的是在第二位之后小于4的个数.2*(4-1)!

* 第三位是1，则在其之后小于1的数有0个，所以a[3]=0,排列组合为：0*(3-1)!

* 第四位是5，则在其之后小于5的数有1个，所以a[2]=1,排列组合为：1*(2-1)!

* 最后一位就不用计算啦，因为在它之后已经没有数了，所以a[1]固定为0

根据公式：    
X = 2 * 4! + 2 * 3! + 0 * 2! + 1 * 1! + 0 * 0!    
= 2 * 24 + 2 * 6 + 1    
= 61 

所以比 34152 小的组合有61个，即34152是排第62。
